---
layout: default
title: Docs
class: docs
scripts: |
  <script src="../js/docs.js"></script>
---

{% assign classes = site.data.docs.classes %}

<div class="row">
  <div class="col-md-3 col-lg-2" role="complementary">
    <div class="docs-sidebar hidden-print hidden-xs hidden-sm affix-top">
      <ul class="nav">
        <li>
          <a href="#top">
            d3.compose <span class="version">({{ site.version }})</span>
          </a>
        </li>
        
        <li>
          <a href="#introduction">
            Introduction
          </a>
        </li>

        <li>
          <a href="#usage">
            Usage
          </a>
        </li>

        <li>
          <a href="#examples">
            Examples
          </a>

          <ul class="nav is-nested">
            <li><a href="#examples-line">Line</a></li>
            <li><a href="#examples-line-bar-values">Line-Bar Values</a></li>
            <li><a href="#examples-custom-chart">Custom Chart</a></li>
            <li><a href="#examples-custom-component">Custom Component</a></li>
          </ul>
        </li>

        <hr>

        {% include docs-toc-section.html class=classes.Compose %}
        {% include docs-toc-section.html class=classes.Chart %}
        {% include docs-toc-section.html class=classes.Component %}
        {% include docs-toc-section.html class=classes.Base %}

        <hr>

        {% include docs-toc-section.html class=classes.Lines %}
        {% include docs-toc-section.html class=classes.Bars %}
        {% include docs-toc-section.html class=classes.StackedBars %}
        {% include docs-toc-section.html class=classes.HorizontalBars %}
        {% include docs-toc-section.html class=classes.HorizontalStackedBars %}
        {% include docs-toc-section.html class=classes.Labels %}

        <hr>

        {% include docs-toc-section.html class=classes.Axis %}
        {% include docs-toc-section.html class=classes.Legend %}
        {% include docs-toc-section.html class=classes.InsetLegend %}
        {% include docs-toc-section.html class=classes.Title %}

        <hr>

        {% include docs-toc-section.html class=classes.extensions %}

        {% include docs-toc-section.html class=classes.helpers %}

        <li>
          <a href="#mixins">
            mixins
          </a>

          <ul class="nav is-nested">
            {% include docs-toc-section.html class=classes.mixins-Series %}
            {% include docs-toc-section.html class=classes.mixins-XY %}
            {% include docs-toc-section.html class=classes.mixins-XYValues %}
            {% include docs-toc-section.html class=classes.mixins-InvertedXY %}
            {% include docs-toc-section.html class=classes.mixins-Labels %}
            {% include docs-toc-section.html class=classes.mixins-XYLabels %}
            {% include docs-toc-section.html class=classes.mixins-Hover %}
            {% include docs-toc-section.html class=classes.mixins-HoverPoints %}
            {% include docs-toc-section.html class=classes.mixins-Transition %}
            {% include docs-toc-section.html class=classes.mixins-StandardLayer %}
          </ul>
        <li>
          <a href="#changelog">
            Change Log
          </a>
        </li>
      </ul>
      <a class="back-to-top" href="#top">Back to top</a>
    </div>
  </div>

  <main class="col-md-9 col-lg-6 docs-content">
    <section class="docs-section">
      <h1>d3.compose</h1>

      <p>
        d3.compose adds advanced chart layout and composition to d3 and d3.chart.
        Create rich, data-bound charts by composing charts (like Line and Bars) and components (like Axis, Title, and Legend).
      </p>

      <h2 id="downloads">
        Downloads &amp; Dependencies
        <span style="padding-left: 7px; font-size:11px; font-weight: normal;" class="interface">(Right-click, and use "Save As")</span>
      </h2>

      <table>
        <tr>
          <td><a class="punch" href="../d3.compose-all.js">Development Version ({{ site.version }})</a></td>
          <td class="text"><i>92kb, Full source with tons of comments</i></td>
        </tr>
        <tr>
          <td><a class="punch" href="../d3.compose-all.min.js">Production Version ({{ site.version }})</a></td>
          <td class="text" style="line-height: 16px;">
            <i>9.6kb, Packed and gzipped</i><br>
            <small>(<a href="../d3.compose-all.min.js.map">Source Map</a>)</small>
          </td>
        </tr>
        <tr>
          <td><a class="punch" href="https://raw.github.com/CSNW/d3.compose/master/dist/d3.compose-all.js">Edge Version (master)</a></td>
          <td>
            <i>Unreleased, use at your own risk</i>
            <!-- TODO
            <a class="travis-badge" href="https://travis-ci.org/jashkenas/backbone">
              <img src="https://travis-ci.org/jashkenas/backbone.png" />
            </a>
            -->
          </td>
        </tr>
      </table>

      <p>
        d3.compose depends on the following libraries:

        <ul>
          <li><a href="http://d3js.org/" target="_blank">D3.js</a> <small>(>= 3.0.0)</small></li>
          <li><a href="http://misoproject.com/d3-chart/" target="_blank">d3.chart</a> <small>(>= 0.2.0)</small></li>
          <li><a href="http://underscorejs.org/" target="_blank">Underscore.js</a> <small>(>= 1.5.0)</small></li>
        </ul>
      </p>
    </section>

    <!--
      Introduction
      ====
    -->

    <section class="docs-section">
      <h2 id="introduction">Introduction</h2>

      <p>
        When creating complex charts with D3.js and d3.chart, laying out and sizing parts of the chart are often manual processes and creating composable and reusable components becomes very difficult. d3.compose creates a standard base that charts and components are built on top of that automatically handles layout and sizing and can be composed and layered to created rich, data-bound charts.
      </p>
    </section>

    <section class="docs-section">
      <h2 id="usage">Usage</h2>

      <p>
        Add d3.compose and its dependencies to your page:
      </p>

{% highlight html %}
<!doctype html>
<html>
  <head>
    <!-- ... -->

    <link rel="stylesheet" type="text/css" href="d3.compose.css">
  </head>
  <body>
    <div id="chart"></div>

    <script src="d3.js"></script>
    <script src="d3.chart.js"></script>
    <script src="underscore.js"></script>

    <script src="d3.compose.js"></script>

    <script>
      // Your code
    </script>
  </body>
</html>
{% endhighlight %}
    </section>

    <!--
      Examples
      ====
    -->

    {% include docs-examples.html %}

    <!--
      Compose/Chart/Component/Base
      ====
    -->

    {% include docs-section.html class=classes.Compose %}
    {% include docs-section.html class=classes.Chart %}
    {% include docs-section.html class=classes.Component %}
    {% include docs-section.html class=classes.Base %}

    <!-- TODO
    <h3 class="docs-item-header" id="Compose-Events">
      Events
    </h3>

    <div class="docs-description docs-item-description">
      <p><code>on</code>, <code>off</code>, and <code>trigger</code> can be used to work with chart events. Available events:</p>
      <ul>
        <li><b>mouseenter</b> (container: {x, y}, chart: {x, y}) &mdash; when mouse enters chart</li>
        <li><b>mousemove</b> (container: {x, y}, chart: {x, y}) &mdash; when mouse moves within chart</li>
        <li><b>mouseleave</b> &mdash; when mouse leaves chart</li>
      </ul>
    </div>
    -->

    <hr>

    <!--
      Charts
      ====
    -->
    
    {% include docs-section.html class=classes.Lines %}
    {% include docs-section.html class=classes.Bars %}
    {% include docs-section.html class=classes.StackedBars %}
    {% include docs-section.html class=classes.HorizontalBars %}
    {% include docs-section.html class=classes.HorizontalStackedBars %}
    {% include docs-section.html class=classes.Labels %}

    <!--
      Components
      ====
    -->

    {% include docs-section.html class=classes.Axis %}
    {% include docs-section.html class=classes.Legend %}
    {% include docs-section.html class=classes.InsetLegend %}
    {% include docs-section.html class=classes.Title %}

    <!--
      Extensions
      =========
    -->
    {% include docs-section.html class=classes.extensions %}
    <!-- <section class="docs-section">
      <h2 id="extensions">Extensions</h2>

      <p>
        Extensions are used for defining options for d3.compose that wrap common behavior, reduce boilerplate, and provide helpers for composing charts and components.
      </p>

      <h3 id="extensions-xy">d3.compose.xy</h3>

      <p>
        The <tt>d3.compose.xy</tt> extension includes helpers for creating XY charts that include a title, axes, and legend. It provides sensible defaults and can reduce the amount of boilerplate needed to create standard XY charts.
      </p>

{% highlight js %}
d3.select('#chart')
  .chart('Compose', function(data) {
    var scales = {
      x: {/* ... */},
      y: {/* ... */},
      y2: {/* ... */}
    };

    return d3.compose.xy({
      // charts and components as normal
      charts: {/* ... */},
      components: {/* ... */},

      // Axes:
      // type: 'Axis'
      // position: x -> bottom, y -> left, x2 -> top, y2 -> right
      axes: {
        x: {scale: scales.x, title: 'X Axis'},
        y: {scale: scales.y, title: 'Y Axis'},
        y2: {scale: scales.y2, title: 'Y2 Axis'}
      },
      title: 'Chart Title'
    });

    // Transforms to
    return {
      charts: {/* ... */},
      components: {
        /* ... */
        'axis.x': {type: 'Axis', position: 'bottom', scale: scales.x},
        'axis.x.title': {type: 'Title', position: 'bottom', text: 'X Axis'},
        'axis.y': {type: 'Axis', position: 'left', scale: scales.y},
        'axis.y.title': {type: 'Title', position: 'left', text: 'Y Axis'},
        'axis.y2': {type: 'Axis', position: 'right', scale: scales.y2},
        'axis.y2.title': {type: 'Title', position: 'right', text: 'Y2 Axis'},
        title: {type: 'Title', position: 'top', text: 'Chart Title'}
      }
    }
  });
{% endhighlight %}
    </section> -->

    <!--
      helpers
      =======
    -->
    {% include docs-section.html class=classes.helpers %}

    <!--
      mixins
      ======
    -->
    <section class="docs-section">
      <h2 id="mixins">mixins</h2>

      {% include docs-section.html class=classes.mixins-Series nested=true %}
      {% include docs-section.html class=classes.mixins-XY nested=true %}
      {% include docs-section.html class=classes.mixins-XYValues nested=true %}
      {% include docs-section.html class=classes.mixins-InvertedXY nested=true %}
      {% include docs-section.html class=classes.mixins-Labels nested=true %}
      {% include docs-section.html class=classes.mixins-XYLabels nested=true %}
      {% include docs-section.html class=classes.mixins-Hover nested=true %}
      {% include docs-section.html class=classes.mixins-HoverPoints nested=true %}
      {% include docs-section.html class=classes.mixins-Transition nested=true %}
      {% include docs-section.html class=classes.mixins-StandardLayer nested=true %}
    </section>

    <!--
      Changelog
      =========
    -->
    <section class="docs-section">
      <h2 id="changelog">Change Log</h2>

      <b class="docs-header">0.12.14</b> &mdash; <small><i>(May 19, 2015)</i></small>
      <br>
      <ul style="margin-top: 5px;">
        <li>Fix data handling bug in Compose.draw</li>
        <li>Fix examples</li>
        <li>Move stack back to helpers</li>
      </ul>

      <b class="docs-header">0.12.4</b> &mdash; <small><i>(Apr. 1, 2015)</i></small>
      <br>
      <ul style="margin-top: 5px;">
        <li>Add HorizontalBar and HorizontalStackedBars</li>
        <li>Make Bars, Lines, and Title more extensible</li>
        <li>Fix undefined data bug</li>
        <li>Namespace charts to make d3.chart collisions less of an issue</li>
      </ul>

      <b class="docs-header">0.12.0</b> &mdash; <small><i>(Mar. 15, 2015)</i></small>
      <br>
      <ul style="margin-top: 5px;">
        <li>Add centered and adjacent options for createScale</li>
        <li>Move x calculations for Values to createScale</li>
        <li>Remove LineValues and AxisValues to use scale instead</li>
        <li>Rename Line to Lines</li>
        <li>Bugfixes in Legend, Axis, and Multi</li>
        <li>Refactor Lines chart</li>
        <li>Add hover to labels</li>
        <li>Move hover points into separate HoverPoints mixin</li>
        <li>Refactor mouse events</li>
      </ul>

      <b class="docs-header">0.11.0</b> &mdash; <small><i>(Mar. 10, 2015)</i></small>
      <br>
      <ul style="margin-top: 5px;">
        <li>New legend data format</li>
        <li>Fix creating legend from xy extension</li>
        <li>New registerSwatch method (move method out of charts)</li>
        <li>More options</li>
        <li>Split build into three parts: core, core + mixins, core + mixins + charts/components</li>
        <li>Simplify and cleanup</li>
      </ul>

      <b class="docs-header">0.10.0</b> &mdash; <small><i>(Feb. 20, 2015)</i></small>
      <br>
      <ul style="margin-top: 5px;">
        <li>Merge Container and Multi</li>
        <li>Simplify Multi (remove Axes, Legend, and Title)</li>
        <li>Add d3.compose.xy extension for axes, legend, and title helpers</li>
        <li>Bugfix: Layout gets passed demuxed data</li>
      </ul>

      <b class="docs-header">0.9.0</b> &mdash; <small><i>(Feb. 11, 2015)</i></small>
      <br>
      <ul style="margin-top: 5px;">
        <li>Dramatic labels simplification</li>
        <li>Add Labels, Hover, and XYHover mixins</li>
        <li>Remove / simplify helpers (Removed getValue, capitalize, resolveChart, stack, log and simplified property, transform, and others)</li>
        <li>Simplify mixins: Combine XY/Values series into main XY and Values mixins</li>
        <li>General cleanup and normalize coding style</li>
      </ul>
    </section>

    <!-- <p>
      Footer...
    </p> -->

  </main>

  <div class="col-lg-4 hidden-xs hidden-sm hidden-md">
    <!-- TODO Add dynamic chart -->
  </div>
</div>